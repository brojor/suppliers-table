(function(e){function t(t){for(var n,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/suppliers-table/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},1:function(e,t){},"3af6":function(e,t,a){"use strict";a("8fc8")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("app-header"),a("v-container",{attrs:{fluid:""}},[a("select-bar",{on:{change:function(t){return e.filtersChanged(t)}}}),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.suppliers,"items-per-page":-1,"item-key":"_id","hide-default-footer":"","show-expand":"","single-expand":!0,expanded:e.expanded},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"expanded-item",fn:function(t){var n=t.headers,r=t.item;return[a("td",{attrs:{colspan:n.length}},[a("p",{staticClass:"expanded-row"},[e._v(e._s(r.description))])])]}}])}),a("div",{staticClass:"pagination-container"},[a("v-btn",{staticClass:"pagination-btn",attrs:{disabled:0===e.query.skip},on:{click:e.previousPage}},[e._v("Předchozí")]),a("div",{staticClass:"supplier-count"},[e._v(" ("+e._s(e.query.skip+1)+" - "),e._v(" "+e._s(e.query.skip+e.query.limit<e.totalCount?e.query.skip+e.query.limit:e.totalCount)+") / "+e._s(e.totalCount)+" ")]),a("v-btn",{staticClass:"pagination-btn",attrs:{disabled:e.query.skip+e.query.limit>e.totalCount},on:{click:e.nextPage}},[e._v("Další")])],1)],1)],1)},o=[],s=a("5530"),i=(a("99af"),a("bc3a")),l=a.n(i),c=a("4328"),u=a.n(c),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3"}},[a("v-select",{attrs:{dense:"",items:e.items.category,"item-text":"text","item-value":"value",label:"Kategorie",outlined:""},on:{change:e.dataChange},model:{value:e.selected.category,callback:function(t){e.$set(e.selected,"category",t)},expression:"selected.category"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3"}},[a("v-select",{attrs:{dense:"",items:e.items.region,"item-text":"text","item-value":"value",label:"Kraj",outlined:""},on:{change:function(t){return e.dataChange("kraj")}},model:{value:e.selected.region,callback:function(t){e.$set(e.selected,"region",t)},expression:"selected.region"}})],1),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"3"}},[a("v-select",{attrs:{dense:"",items:e.items.district,"item-text":"text","item-value":"value",label:"Okres",outlined:""},on:{change:e.dataChange},model:{value:e.selected.district,callback:function(t){e.$set(e.selected,"district",t)},expression:"selected.district"}})],1)],1)],1)},p=[],v=a("2909"),h=(a("d3b7"),a("b64b"),a("4e827"),{name:"selectBar",mounted:function(){this.fetchData()},computed:{okresy:function(){var e=this,t=Object.keys(this.okresyKraju).reduce((function(t,a){return t.push.apply(t,Object(v["a"])(e.okresyKraju[a])),t}),[]);return t.sort((function(e,t){return e.localeCompare(t)})),t.unshift("Všechny okresy"),"Všechny kraje"===this.selected.kraj?t:this.okresyKraju[this.selected.kraj]},kraje:function(){var e=Object.keys(this.okresyKraju);return e.sort((function(e,t){return e.localeCompare(t)})),e.unshift("Všechny kraje"),e},sortedCats:function(){var e=Object(v["a"])(this.categories).sort((function(e,t){return e.localeCompare(t)}));return e.unshift("Všechny kategorie"),e}},methods:{dataChange:function(e){"kraj"===e&&(this.selected.district="all"),this.$emit("change",this.selected),this.fetchData()},fetchData:function(){var e=this,t="https://facility-jezda.herokuapp.com",a=u.a.stringify(this.selected);console.log("idu request"),l.a.get("".concat(t,"/test?").concat(a)).then((function(t){var a=t.data;e.items=a}))}},data:function(){return{selected:{region:"all",district:"all",category:"all"},items:{region:[],district:[],category:[]},categories:["Revize hromosvodů","Servisy výtahů","Elektrorevize","Požární revize","Revize zabezpečovacích zařízení","Úklid průmyslových prostor","Revize plynových zařízení","Revize tlakových zařízení","Ostraha objektů a majetku","Odvoz komunálního odpadu","Revize kotlů","Úklid bytových prostor","Revize výtahů a eskalátorů","Servis klimatizací","Servisy tepelné techniky","Stěhování firem a kanceláří"],okresyKraju:{"Jihomoravský kraj":["Blansko","Brno-město","Brno-venkov","Břeclav","Hodonín","Vyškov","Znojmo"],"Jihočeský kraj":["České Budějovice","Český Krumlov","Jindřichův Hradec","Písek","Prachatice","Strakonice","Tábor"],"Karlovarský kraj":["Cheb","Karlovy Vary","Sokolov"],"Kraj Vysočina":["Havlíčkův Brod","Jihlava","Pelhřimov","Třebíč","Žďár nad Sázavou"],"Královéhradecký kraj":["Hradec Králové","Jičín","Náchod","Rychnov nad Kněžnou","Trutnov"],"Liberecký kraj":["Česká Lípa","Jablonec nad Nisou","Liberec","Semily"],"Moravskoslezský kraj":["Bruntál","Frýdek-Místek","Karviná","Nový Jičín","Opava","Ostrava-město"],"Olomoucký kraj":["Jeseník","Olomouc","Prostějov","Přerov","Šumperk"],"Pardubický kraj":["Chrudim","Pardubice","Svitavy","Ústí nad Orlicí"],"Plzeňský kraj":["Domažlice","Klatovy","Plzeň-jih","Plzeň-město","Plzeň-sever","Rokycany","Tachov"],Praha:["Hlavní město Praha"],"Středočeský kraj":["Benešov","Beroun","Kladno","Kolín","Kutná Hora","Mělník","Mladá Boleslav","Nymburk","Praha-východ","Praha-západ","Příbram","Rakovník"],"Ústecký kraj":["Děčín","Chomutov","Litoměřice","Louny","Most","Teplice","Ústí nad Labem"],"Zlínský kraj":["Kroměříž","Uherské Hradiště","Vsetín","Zlín"]}}}}),f=h,k=a("2877"),m=a("6544"),y=a.n(m),b=a("62ad"),g=a("a523"),j=a("0fd9"),x=a("b974"),C=Object(k["a"])(f,d,p,!1,null,null,null),z=C.exports;y()(C,{VCol:b["a"],VContainer:g["a"],VRow:j["a"],VSelect:x["a"]});var P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("div",{staticClass:"toolbar"},[a("div",{staticClass:"toolbar_title"},[e._v("Ježda Contact Management System")]),a("div",{staticClass:"spacer"}),a("button",[a("menu-icon")],1)])])},O=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",color:"#FFF"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])},S=[],w={},q=Object(k["a"])(w,_,S,!1,null,null,null),K=q.exports,V={name:"AppHeader",components:{MenuIcon:K}},B=V,H=(a("3af6"),Object(k["a"])(B,P,O,!1,null,"3de38ec6",null)),M=H.exports,J={name:"App",components:{selectBar:z,AppHeader:M},mounted:function(){this.fetchSuppliers(this.query)},methods:{fetchSuppliers:function(e){var t=this,a="https://facility-jezda.herokuapp.com",n="".concat(a,"?").concat(u.a.stringify(e));console.log({url:n}),l.a.get(n).then((function(e){var a=e.data;console.log({data:a}),t.suppliers=a.data,t.totalCount=a.count}))},filtersChanged:function(e){this.query=Object(s["a"])({skip:0,limit:15},e),this.fetchSuppliers(this.query)},nextPage:function(){this.query.skip+=this.query.limit,this.fetchSuppliers(this.query)},previousPage:function(){this.query.skip>0&&(this.query.skip-=this.query.limit,this.fetchSuppliers(this.query))}},data:function(){return{totalCount:0,query:{skip:0,limit:15},expanded:[],headers:[{text:"Název dodavatele",value:"title"},{text:"Telefon",sortable:!1,value:"phone"},{text:"E-mail",sortable:!1,value:"email"},{text:"Adresa",sortable:!1,value:"address"},{text:"",value:"data-table-expand"}],suppliers:[]}}},R=J,T=(a("034f"),a("7496")),$=a("8336"),D=a("8fea"),E=Object(k["a"])(R,r,o,!1,null,null,null),L=E.exports;y()(E,{VApp:T["a"],VBtn:$["a"],VContainer:g["a"],VDataTable:D["a"]});var A=a("f309");n["a"].use(A["a"]);var N=new A["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:N,render:function(e){return e(L)}}).$mount("#app")},"85ec":function(e,t,a){},"8fc8":function(e,t,a){}});
//# sourceMappingURL=app.b1fe1916.js.map